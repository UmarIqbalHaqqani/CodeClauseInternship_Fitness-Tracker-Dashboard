(()=>{"use strict";!function(e){function t(t){if(t.hasClass("gym-builder-metabox-colorpicker"))t.wpColorPicker();else if(t.hasClass("gym-builder-metabox-datepicker")){var i=e.extend({},e.datepicker.regional["en-US"],{dateFormat:t.data("format")});t.datepicker(i)}else t.hasClass("gym-builder-metabox-timepicker")?t.timepicker():t.hasClass("gym-builder-metabox-timepicker-24")&&t.timepicker({timeFormat:"H:i"})}jQuery(document).ready((function(e){e(".gym-builder-metabox-picker").each((function(){e(this).parents(".gym-builder-postmeta-repeater.repeater-init").length||t(e(this))})),e(".gym-builder-postmeta-container .gym-builder-postmeta-dependent").each((function(){var t=e(this).data("required"),i=e(this).data("required-value"),a=e("select[name="+t+"], input[name="+t+"]").is("select")?"select":"radio",r=null;"radio"===a?r=e("input[name="+t+"]:checked").val():"select"===a&&(r=e("select[name="+t+"]").val()),null===i.match(r)&&e(this).hide()})),e(".gym-builder-postmeta-container input[type=radio], .gym-builder-postmeta-container select").on("change",(function(){var t=e(this).attr("name"),i=e(this).val();e('.gym-builder-postmeta-container tr[data-required="'+t+'"]').filter((function(){if(null===e(this).data("required-value").match(i))return!0})).hide(),e('.gym-builder-postmeta-container tr[data-required="'+t+'"]').filter((function(){if(null!==e(this).data("required-value").match(i))return!0})).show()}));e(".gym-builder-postmeta-repeater tr:last-child td").append('<a class="gym-builder-postmeta-repeater-close"></a>'),e(".gym-builder-postmeta-repeater-wrap").on("click",".gym-builder-postmeta-repeater-close",(function(t){e(this).closest(".gym-builder-postmeta-repeater").fadeOut("fast",(function(){e(this).remove()}))})),e(".gym-builder-postmeta-container .gym-builder-postmeta-repeater-addmore").on("click","button",(function(i){var a=e(this).closest(".gym-builder-postmeta-repeater-wrap"),r=a.data("num"),l=r+1;a.data("num",l);var s=a.find(".gym-builder-postmeta-repeater.repeater-init"),o=a.data("fieldname"),m=(o=o.split("[")[0])+"\\[hidden\\]",n=o+"["+r+"]",d=(m=new RegExp(m,"g"),s[0].innerHTML.replace(m,n)),c=document.createElement("table");return c.className="gym-builder-postmeta-repeater",c.innerHTML=d,e(this).closest(".gym-builder-postmeta-repeater-addmore").before(c),e(c).find(".gym-builder-metabox-picker").each((function(){t(e(this))})),!1})),e.fn.sortable&&e(".gym-builder-postmeta-repeater-wrap").sortable({items:".gym-builder-postmeta-repeater",cursor:"move"}),e("body").on("click",".gym-builder_upload_file",(function(t){var i=e(this),a=wp.media({multiple:!1}).on("select",(function(){var e=a.state().get("selection").first().toJSON();i.closest(".gym-builder_metabox_file").find(".custom_upload_file").val(e.id),i.closest(".gym-builder_metabox_file").find(".custom_preview_file").attr("href",e.url).html(e.title).show(),i.closest(".gym-builder_metabox_file").find(".gym-builder_remove_file_wrap").show()})).open()})),e("body").on("click",".gym-builder_remove_file",(function(t){return t.preventDefault(),e(this).closest(".gym-builder_metabox_file").find(".custom_upload_file").val(""),e(this).closest(".gym-builder_metabox_file").find(".custom_preview_file").attr("href","#").html("").hide(),e(this).closest(".gym-builder_metabox_file").find(".gym-builder_remove_file_wrap").hide(),!1}))})),e(".gym-builder-select2").select2({width:"70%",theme:"classic"});var i=e("body.post-type-gb_pricing_plan").find(".page-title-action");if(0!=i.length){var a=adminMetaData.memberPackageTaxUrl;e('<a href=" '+a+' " class="page-title-action custom-page-title">Add Package Type</a>').insertAfter(i);var r=e("body.post-type-gb_pricing_plan").find(".custom-page-title");e('<div class="membership-package-admin-sc"><h2 class="custom-heading">Membership Package Shortcode</h2><input type="text" onfocus="this.select();" readonly="readonly" value="[membership_package_shortcode]" class="code gym-builder-code-sc"></div>').insertAfter(r)}}(jQuery)})();